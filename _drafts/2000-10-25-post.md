---
layout: post
title: 自動でPRを作るGitHub Actionsを作った
date: 2020-10-05 12:00:00 +0900
tags:
- Engineer
- GitHub
ogp: ogp20201025
---

* toc
{:toc}

## はじめに

[@shimewtr](https://twitter.com/shimewtr)と申します。  
Webエンジニアとして主にRuby on Railsを用いたプロダクトの開発・運営に携わっています。  

## 作ったGitHub Action

{% include link-to-other-site.html title='shimewtr/submit_pull_request' url='https://github.com/shimewtr/submit_pull_request' ogp='github_submit_pull_request' %}

## やりたかったこと

作成したのは自動でPRを作成するGitHub Actionsですが、以下を実現したかったため、このような仕様にしました。

* ブランチの命名ルールを定めたい
* PRを作成するのが手間なので自動で作成されるようにしたい
* PRに関連するIssueのタイトルを表示したい
* PRに関連するIssueへのリンクを表示したい
* PRに関連するIssueと同じラベルを付与したい
* PRに作業途中を意味するラベル（`WIP`など）を付与したい

ブランチの命名則、PRのルール、ラベルのルールをある程度統一したかった
制約と誓約てきな感じにしたほうがいい感じに回るのでは？的なことを言いたい

## 使い方

```yml
name: Submit Pull Request

on:
  create:

jobs:
  SubmitPullRequest:
    runs-on: ubuntu-latest
    steps:
      - name: Submit Pul Request
        uses: shimewtr/submit_pull_request@master
        env:
          GITHUB_ACCESS_TOKEN: ${{secrets.github_token}}
          LABEL: WIP
```

```md
## Issue

{submit_pull_request_issue_info}
```

## 実際のコードを追っていく

## まとめ

制約を設けることで手作業を減らし効率化できる

ご意見などがありましたら[@shimewtr](https://twitter.com/shimewtr)までご連絡ください。  
最後までご覧いただきありがとうございました。
